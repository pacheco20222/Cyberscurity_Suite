{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h3>Hash Table Operations</h3>

    <!-- Form to Insert a Key-Value Pair -->
    <form method="POST">
        <label for="key">Key:</label>
        <input type="text" name="key" id="key" class="form-control">
        
        <label for="value" class="mt-2">Value:</label>
        <input type="text" name="value" id="value" class="form-control">
        
        <button type="submit" class="btn btn-primary mt-2">Insert</button>
    </form>

    <!-- Display Current Hash Table -->
    <h4 class="mt-4">Current Hash Table</h4>
    <ul class="list-group mt-3">
        {% for index, bucket in enumerate(table) %}
            <li class="list-group-item">
                <strong>Bucket {{ index }}:</strong>
                {% for key, value in bucket %}
                    {{ key }}: {{ value }}
                {% endfor %}
            </li>
        {% endfor %}
    </ul>

    <!-- Form to Search for a Key -->
    <form method="POST" action="/hash_table/search" class="mt-4">
        <label for="search_key">Search Key:</label>
        <input type="text" name="search_key" id="search_key" class="form-control">
        <button type="submit" class="btn btn-secondary mt-2">Search</button>
    </form>

    {% if search_key and search_result %}
        <p class="mt-3">Search Result for "{{ search_key }}": {{ search_result }}</p>
    {% elif search_key %}
        <p class="mt-3">No results found for "{{ search_key }}".</p>
    {% endif %}

    <!-- Form to Delete a Key -->
    <form method="POST" action="/hash_table/delete" class="mt-4">
        <label for="delete_key">Delete Key:</label>
        <input type="text" name="delete_key" id="delete_key" class="form-control">
        <button type="submit" class="btn btn-danger mt-2">Delete</button>
    </form>
</div>
{% endblock %}